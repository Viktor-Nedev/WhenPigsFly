<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/vite.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>When Pigs Fly!</title>

    <style>
        @import url('https://fonts.googleapis.com/css2?family=Bungee&family=Changa+One:ital@0;1&family=Luckiest+Guy&display=swap');
        @import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&display=swap');

        /* Reset */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            margin: 0;
            padding: 0;
            overflow: hidden;
            background-color: #000;
            font-family: 'Orbitron', sans-serif;
        }

        #main-start-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, #ffcce6, #a6d0ff, #c2e7ff, #ffd6eb);
            background-size: 400% 400%;
            animation: gradientBG 15s ease infinite;
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 9999;
            pointer-events: auto;
        }

        @keyframes gradientBG {
            0% {
                background-position: 0% 50%;
            }

            50% {
                background-position: 100% 50%;
            }

            100% {
                background-position: 0% 50%;
            }
        }

        .start-container {
            width: 90%;
            max-width: 1000px;
            height: 80vh;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 35px;
            border: 8px solid #ff6bcb;
            box-shadow:
                0 20px 40px rgba(255, 107, 203, 0.3),
                0 0 0 12px white,
                0 0 0 16px #6bf;
            overflow: hidden;
            display: flex;
            flex-direction: column;
            position: relative;
            z-index: 10000;
            animation: containerAppear 0.8s ease-out;
        }

        @keyframes containerAppear {
            0% {
                opacity: 0;
                transform: translateY(50px) scale(0.9);
            }

            100% {
                opacity: 1;
                transform: translateY(0) scale(1);
            }
        }

        .start-header {
            background: linear-gradient(90deg, #ff6bcb, #ff8ecb, #6bf, #8ac6ff);
            padding: 40px;
            border-bottom: 5px dashed white;
            position: relative;
            z-index: 10001;
            min-height: 150px;
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: hidden;
        }

        .start-header::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg,
                    transparent 0%,
                    rgba(255, 255, 255, 0.4) 50%,
                    transparent 100%);
            animation: shineLine 3s infinite linear;
        }

        @keyframes shineLine {
            0% {
                transform: translateX(-100%);
            }

            100% {
                transform: translateX(200%);
            }
        }

        .pig-flying-container {
            flex: 1;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 40px;
            position: relative;
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.9), rgba(255, 240, 245, 0.9));
        }

        .flying-pig {
            font-size: 120px;
            margin-bottom: 40px;
            animation: flyAround 8s ease-in-out infinite;
            filter: drop-shadow(0 10px 20px rgba(255, 107, 203, 0.3));
        }

        @keyframes flyAround {

            0%,
            100% {
                transform: translate(0, 0) rotate(0deg);
            }

            25% {
                transform: translate(50px, -30px) rotate(15deg);
            }

            50% {
                transform: translate(0, -60px) rotate(0deg);
            }

            75% {
                transform: translate(-50px, -30px) rotate(-15deg);
            }
        }

        .main-title {
            font-family: 'Luckiest Guy', cursive;
            font-size: 64px;
            color: white;
            text-shadow:
                3px 3px 0 #ff1493,
                6px 6px 0 rgba(0, 0, 0, 0.2);
            letter-spacing: 3px;
            text-align: center;
            position: relative;
            z-index: 10002;
            margin-bottom: 20px;
        }

        .title-icon {
            font-size: 80px;
            display: block;
            margin-bottom: 20px;
            animation: pigFloat 3s ease-in-out infinite;
        }

        @keyframes pigFloat {

            0%,
            100% {
                transform: translateY(0) rotate(0deg);
            }

            50% {
                transform: translateY(-20px) rotate(10deg);
            }
        }

        .start-flight-btn {
            background: linear-gradient(135deg, #ff1493, #ff6bcb);
            border: none;
            border-radius: 30px;
            padding: 25px 50px;
            font-family: 'Luckiest Guy', cursive;
            font-size: 36px;
            color: white;
            cursor: pointer;
            border: 6px solid white;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 20px;
            text-shadow: 2px 2px 0 rgba(0, 0, 0, 0.2);
            transition: all 0.3s ease;
            box-shadow: 0 15px 30px rgba(255, 20, 147, 0.3);
            margin-top: 30px;
            animation: pulseButton 2s infinite;
        }

        @keyframes pulseButton {

            0%,
            100% {
                transform: scale(1);
            }

            50% {
                transform: scale(1.05);
            }
        }

        .start-flight-btn:hover {
            transform: scale(1.1);
            box-shadow: 0 20px 40px rgba(255, 20, 147, 0.4);
        }

        .start-btn-icon {
            font-size: 40px;
        }

        .start-btn-text {
            letter-spacing: 3px;
        }

        #ui-layer {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            padding: 20px;
            box-sizing: border-box;
        }

        #hud {
            display: flex;
            justify-content: space-between;
            font-size: 24px;
            text-shadow: 0 0 10px #0ff;
        }

        #game-over {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            text-align: center;
            background: rgba(0, 0, 0, 0.8);
            padding: 40px;
            border: 2px solid #0ff;
            box-shadow: 0 0 20px #0ff;
            pointer-events: auto;
        }

        #game-over h1 {
            font-size: 48px;
            margin-bottom: 20px;
            background: linear-gradient(90deg, #ff0000, #f0f);
            background-clip: text;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            text-shadow: 0 0 20px rgba(255, 0, 0, 0.5);
        }

        #game-over button {
            background: transparent;
            border: 2px solid #f0f;
            color: #f0f;
            padding: 15px 30px;
            font-family: 'Orbitron', sans-serif;
            font-size: 20px;
            cursor: pointer;
            transition: all 0.3s;
        }

        #game-over button:hover {
            background: #f0f;
            color: #000;
            box-shadow: 0 0 20px #f0f;
        }

        .hidden {
            display: none !important;
        }

        .menu-slide-in {
            animation: slideInFromRight 0.6s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }

        .menu-slide-out {
            animation: slideOutToLeft 0.6s cubic-bezier(0.175, 0.885, 0.32, 1.275) forwards;
        }


        @keyframes slideInFromRight {
            0% {
                opacity: 0;
                transform: translateX(100px) scale(0.95);
            }

            100% {
                opacity: 1;
                transform: translateX(0) scale(1);
            }
        }

        @keyframes slideOutToLeft {
            0% {
                opacity: 1;
                transform: translateX(0) scale(1);
            }

            100% {
                opacity: 0;
                transform: translateX(-100px) scale(0.95);
                visibility: hidden;
            }
        }

        @keyframes slideInFromBottom {
            0% {
                opacity: 0;
                transform: translateY(100px) scale(0.95);
            }

            100% {
                opacity: 1;
                transform: translateY(0) scale(1);
            }
        }

        @keyframes slideOutToTop {
            0% {
                opacity: 1;
                transform: translateY(0) scale(1);
            }

            100% {
                opacity: 0;
                transform: translateY(-100px) scale(0.95);
                visibility: hidden;
            }
        }

        .menu-slide-in {
            animation: slideInFromRight 0.6s cubic-bezier(0.175, 0.885, 0.32, 1.275) forwards !important;
        }

        .menu-slide-out {
            animation: slideOutToLeft 0.6s cubic-bezier(0.175, 0.885, 0.32, 1.275) forwards !important;
        }

        .start-slide-in {
            animation: slideInFromBottom 0.6s cubic-bezier(0.175, 0.885, 0.32, 1.275) forwards !important;
        }

        .start-slide-out {
            animation: slideOutToTop 0.6s cubic-bezier(0.175, 0.885, 0.32, 1.275) forwards !important;
        }

        #game-menu {
            opacity: 0;
            visibility: hidden;
            transform: translateX(100px) scale(0.95);
        }

        #main-start-screen {
            opacity: 1;
            visibility: visible;
            transform: translateY(0) scale(1);
        }
    </style>
</head>

<body>
    <div id="app"></div>

    <div id="main-start-screen">
        <div class="start-container">
            <div class="start-header">
                <h1 class="main-title">
                    WHEN PIGS FLY!
                </h1>
            </div>

            <div class="pig-flying-container">
                <button class="start-flight-btn" id="main-start-btn">
                    <span class="start-btn-text">START GAME</span>
                </button>
            </div>
        </div>
    </div>

    <div id="ui-layer">
        <div id="hud" class="hidden">
            <div id="score">SCORE: 00000</div>
            <div id="distance">DIST: 0m</div>
        </div>

        <div id="game-over" class="hidden">
            <h1>MALFUNCTION</h1>
            <p id="final-score">FINAL SCORE: 0</p>
            <button id="restart-btn">REBOOT</button>
        </div>
    </div>

    <div id="game-menu" class="hidden">
        <div class="cloud cloud-1"></div>
        <div class="cloud cloud-2"></div>
        <div class="cloud cloud-3"></div>
        <div class="cloud cloud-4"></div>

        <div class="menu-container">
            <div class="menu-header">
                <h2>WHEN PIGS FLY!</h2>
            </div>

            <div class="menu-content">
                <div class="left-column">
                    <div class="pig-preview-container">
                        <div class="pig-preview">
                            <div class="pig-display" id="pig-display">
                                <div class="pig-head">üê∑</div>
                            </div>
                            <div class="pig-name" id="current-pig-name">Basic Pig</div>
                            <div class="pig-level">Level 1</div>
                        </div>
                    </div>

                    <button class="play-btn" id="menu-play-btn">
                        <span class="play-text">START FLIGHT!</span>
                    </button>
                </div>

                <div class="right-column">
                    <div class="nav-buttons">
                        <button class="nav-btn active" id="home-btn">
                            <span class="btn-icon">üè†</span>
                            <span class="btn-text">HOME</span>
                        </button>

                        <button class="nav-btn" id="locker-btn">
                            <span class="btn-icon">üëï</span>
                            <span class="btn-text">LOCKER</span>
                        </button>

                        <button class="nav-btn" id="shop-btn">
                            <span class="btn-icon">üõí</span>
                            <span class="btn-text">SHOP</span>
                        </button>

                        <button class="nav-btn" id="chest-btn">
                            <span class="btn-icon">üéÅ</span>
                            <span class="btn-text">CHEST</span>
                        </button>

                        <button class="nav-btn" id="settings-btn">
                            <span class="btn-icon">‚öôÔ∏è</span>
                            <span class="btn-text">SETTINGS</span>
                        </button>
                    </div>

                    <div class="submenu-container">
                        <div class="submenu active" id="home-submenu">
                            <h3>FLIGHT STATISTICS</h3>
                            <div class="stats-grid">
                                <div class="stat-card">
                                    <div class="stat-card-value" id="total-score">0</div>
                                    <div class="stat-card-label">Total Score</div>
                                </div>
                                <div class="stat-card">
                                    <div class="stat-card-value" id="total-distance">0m</div>
                                    <div class="stat-card-label">Distance Flown</div>
                                </div>
                                <div class="stat-card">
                                    <div class="stat-card-value" id="obstacles-dodged">0</div>
                                    <div class="stat-card-label">Obstacles Dodged</div>
                                </div>
                                <div class="stat-card">
                                    <div class="stat-card-value" id="play-time">0:00</div>
                                    <div class="stat-card-label">Play Time</div>
                                </div>
                            </div>

                        </div>

                        <div class="submenu" id="locker-submenu">
                            <div class="locker-tabs">
                                <button class="locker-tab active" data-tab="pigs">Pigs</button>
                                <button class="locker-tab" data-tab="wings">Wings</button>
                                <button class="locker-tab" data-tab="particles">Particles</button>
                            </div>

                            <div class="locker-content">
                                <div class="locker-tab-content active" data-tab="pigs">
                                    <div class="items-grid" id="pigs-grid">
                                    </div>
                                </div>

                                <div class="locker-tab-content" data-tab="wings">
                                    <div class="items-grid" id="wings-grid">
                                    </div>
                                </div>

                                <div class="locker-tab-content" data-tab="particles">
                                    <div class="items-grid" id="particles-grid">
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="submenu" id="shop-submenu">
                            <h3>üõí PIGGY MARKET</h3>

                            <div class="coins-display">
                                <span class="coins-icon">ü™ô</span>
                                <span class="coins-amount" id="coins-amount">1000</span>
                            </div>

                            <div class="shop-tabs">
                                <button class="shop-tab active" data-tab="locked-pigs">Pigs</button>
                                <button class="shop-tab" data-tab="locked-wings">Wings</button>
                                <button class="shop-tab" data-tab="locked-particles">Particles</button>
                            </div>

                            <div class="shop-content">
                                <div class="shop-tab-content active" data-tab="locked-pigs">
                                    <div class="shop-items-grid" id="locked-pigs-grid">
                                    </div>
                                </div>

                                <div class="shop-tab-content" data-tab="locked-wings">
                                    <div class="shop-items-grid" id="locked-wings-grid">
                                    </div>
                                </div>

                                <div class="shop-tab-content" data-tab="locked-particles">
                                    <div class="shop-items-grid" id="locked-particles-grid">
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="submenu" id="chest-submenu">
                            <h3>TREASURE CHESTS</h3>
                            <p>Open chests to discover amazing items for your pig!</p>
                            <div class="chest-grid">
                                <div class="chest-item" data-chest="common">
                                    <div class="chest-icon">üì¶</div>
                                    <div class="chest-name">Common Chest</div>
                                    <button class="open-chest-btn" data-chest="common">Open (Free!)</button>
                                </div>
                                <div class="chest-item" data-chest="rare">
                                    <div class="chest-icon">üéÅ</div>
                                    <div class="chest-name">Rare Chest</div>
                                    <button class="open-chest-btn" data-chest="rare">Open (100ü™ô)</button>
                                </div>
                            </div>
                        </div>

                        <div class="submenu" id="settings-submenu">
                            <h3>GAME SETTINGS</h3>
                            <div class="setting-group">
                                <button id="how-to-play-btn" class="how-to-play-btn">
                                    <span class="btn-icon">üìñ</span>
                                    <span class="btn-text">HOW TO PLAY</span>
                                </button>
                            </div>

                            <div class="settings-options">
                                <div class="setting-group">
                                    <label>Music Volume</label>
                                    <div class="setting-controls">
                                        <input type="range" id="volume" min="0" max="100" value="70">
                                        <span class="setting-value" id="volume-value">70%</span>
                                    </div>
                                </div>

                                <div class="setting-group">
                                    <label>Sound Effects</label>
                                    <div class="setting-controls">
                                        <input type="range" id="sfx" min="0" max="100" value="80">
                                        <span class="setting-value" id="sfx-value">80%</span>
                                    </div>
                                </div>

                                <div class="setting-group">
                                    <label>Graphics Quality</label>
                                    <div class="setting-controls">
                                        <select id="graphics">
                                            <option value="low">Low (Cartoon)</option>
                                            <option value="medium" selected>Medium (Colorful)</option>
                                            <option value="high">High (Sparkly)</option>
                                        </select>
                                    </div>
                                </div>

                                <div class="setting-group">
                                    <label>Controls</label>
                                    <div class="setting-controls">
                                        <select id="controls">
                                            <option value="arrows" selected>Arrow Keys</option>
                                            <option value="ad">A/D Keys</option>
                                            <option value="both">Both</option>
                                        </select>
                                    </div>
                                </div>
                            </div>

                            <div class="settings-buttons">
                                <button id="save-settings">Save Settings</button>
                                <button id="reset-progress">Reset Progress</button>
                            </div>
                        </div>

                        <div id="how-to-play-modal" class="modal hidden">
                            <div class="modal-content">
                                <div class="modal-header">
                                    <h2> HOW TO PLAY</h2>
                                </div>
                                <div class="modal-body">
                                    <div class="instructions">
                                        <div class="instruction-step">
                                            <span class="step-number">1</span>
                                            <div class="step-content">
                                                <h3>FLY YOUR PIG</h3>
                                                <p>Use <strong>Arrow Keys</strong> or <strong>A/D</strong> to control
                                                    your flying pig.</p>
                                            </div>
                                            <div class="obstacles-demo">
                                                <div class="control-key">A / D</div>
                                            </div>

                                        </div>

                                        <div class="instruction-step">
                                            <span class="step-number">2</span>
                                            <div class="step-content">
                                                <h3>AVOID OBSTACLES</h3>
                                                <p>Dodge cars, trees, and other obstacles to keep flying!</p>

                                            </div>
                                        </div>

                                        <div class="instruction-step">
                                            <span class="step-number">3</span>
                                            <div class="step-content">
                                                <h3>COLLECT COINS</h3>
                                                <p><strong>Coins = Score</strong> <br> Increase your score to collect
                                                    coins!
                                                </p>

                                            </div>

                                            <div class="obstacles-demo">
                                                <span class="coin">ü™ô</span>
                                            </div>
                                        </div>

                                        <div class="instruction-step">
                                            <span class="step-number">4</span>
                                            <div class="step-content">
                                                <h3>UNLOCK ITEMS</h3>
                                                <p>Visit the <strong>LOCKER</strong> to customize your pig with
                                                    different wings and particles!</p>
                                            </div>
                                        </div>

                                        <div class="tip-box">
                                            <span class="tip-icon">üí°</span>
                                            <p><strong>Tip:</strong> The longer you fly, the faster you go and the more
                                                points you earn!</p>
                                        </div>
                                    </div>
                                </div>
                                <div class="modal-footer">
                                    <button class="close-btn" id="modal-close-btn">GOT IT, LET'S PLAY!</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        function testAnimation() {
            if (window.menuAnimation) {
                const startScreen = document.getElementById('main-start-screen');
                const menu = document.getElementById('game-menu');

                console.log('Start Screen:', {
                    hidden: startScreen.classList.contains('hidden'),
                    visible: startScreen.style.visibility,
                    opacity: startScreen.style.opacity
                });

                console.log('Menu:', {
                    hidden: menu.classList.contains('hidden'),
                    visible: menu.style.visibility,
                    opacity: menu.style.opacity
                });

                if (!menu.classList.contains('hidden') && menu.style.visibility !== 'hidden') {
                    window.menuAnimation.startGame();
                } else {
                    window.menuAnimation.showMenu();
                }
            } else {
                console.error('menuAnimation not found');
            }
        }
    </script>
    <script>
        document.addEventListener('DOMContentLoaded', function () {
            const howToPlayBtn = document.getElementById('how-to-play-btn');
            const closeHowToPlay = document.getElementById('close-how-to-play');
            const modalCloseBtn = document.getElementById('modal-close-btn');
            const howToPlayModal = document.getElementById('how-to-play-modal');
            const logoutBtn = document.getElementById('logout-btn');

            if (howToPlayBtn) {
                howToPlayBtn.addEventListener('click', function () {
                    howToPlayModal.classList.remove('hidden');
                });
            }

            if (closeHowToPlay) {
                closeHowToPlay.addEventListener('click', function () {
                    howToPlayModal.classList.add('hidden');
                });
            }

            if (modalCloseBtn) {
                modalCloseBtn.addEventListener('click', function () {
                    howToPlayModal.classList.add('hidden');
                });
            }

            window.addEventListener('click', function (event) {
                if (event.target === howToPlayModal) {
                    howToPlayModal.classList.add('hidden');
                }
            });

        });
    </script>

    <div id="insufficient-funds-modal" class="modal hidden">
        <div class="modal-content modal-neon">
            <div class="modal-header header-warning">
                <h2>‚ö†Ô∏è OOPS!</h2>
            </div>
            <div class="modal-body text-center">
                <div class="warning-icon">ü™ô</div>
                <p class="warning-text">You don't have enough coins for this pig!</p>
                <p class="secondary-text">Fly more to earn more coins!</p>
            </div>
            <div class="modal-footer">
                <button class="close-btn glow-btn" id="funds-modal-close">GOT IT!</button>
            </div>
        </div>
    </div>

    <script type="module" src="/src/main.ts"></script>
</body>

</html>